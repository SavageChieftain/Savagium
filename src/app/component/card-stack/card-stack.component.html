<div #root class="component is-3d is-pointer-events-none" [ngClass]="{'is-transition': !isDragging, 'is-empty': isEmpty}"
  [style.width.px]="size * gridSize" [ngStyle]="{'z-index' : zindex, 'transform': 'translateX(' + posX + 'px) translateY(' + posY + 'px)'}">
  <div class="component-content is-3d is-pointer-events-auto" [ngStyle]="{'transform': 'rotateZ(' + rotate +'deg)'}" [ngClass]="{'is-grab': (!isDragging), 'is-grabbing': (isDragging), 'is-transition': !isDragging}">
    <div *ngIf="imageFile" (@shuffle.start)="animationShuffleStarted($event)" (@shuffle.done)="animationShuffleDone($event)"
      [@shuffle]="animeState">
      <img class="card-image" [ngStyle]="{'transform': 'rotateZ(' + topCard.rotate +'deg)'}" [src]="imageFile.url | safe: 'resourceUrl'">
    </div>
    <div class="rotate-grab of-left-top" (mousedown)="onRotateMouseDown($event)">
      <i class="material-icons">autorenew</i>
    </div>
    <div class="rotate-grab of-left-bottom" (mousedown)="onRotateMouseDown($event)">
      <i class="material-icons">autorenew</i>
    </div>
    <div class="rotate-grab of-right-bottom" (mousedown)="onRotateMouseDown($event)">
      <i class="material-icons">autorenew</i>
    </div>
    <div class="rotate-grab of-right-top" (mousedown)="onRotateMouseDown($event)">
      <i class="material-icons">autorenew</i>
    </div>
  </div>
  <div *ngIf="isShowTotal" class="name-tag is-nowrap is-black-background" [ngStyle]="{'transform': 'translateY(-50%) translateX(-50%) translateX(' + size * gridSize / 2 +'px)'}">
    <span>{{cards.length}}枚</span>
  </div>
  <div *ngIf="hasOwner" class="name-tag is-nowrap is-black-background" [ngStyle]="{'transform': 'translateY(50%) translateX(-50%) translateX(' + size * gridSize / 2 +'px)'}">
    <span>{{ownerName}} が確認中</span>
  </div>
</div>