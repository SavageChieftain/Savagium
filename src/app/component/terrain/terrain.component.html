<div #root class="component is-3d is-pointer-events-none" [ngClass]="{'is-transition': !isDragging}" [style.width.px]="width * gridSize"
  [style.height.px]="depth * gridSize" [ngStyle]="{'transform': 'translateX(' + posX + 'px) translateY(' + posY + 'px) translateZ(-0.15px)'}">
  <div class="component-content is-3d is-pointer-events-auto" [ngStyle]="{'transform': 'rotateZ(' + rotate +'deg)'}"
    [ngClass]="{'is-grab': (!isDragging && !isLocked), 'is-grabbing': (isDragging && !isLocked), 'is-transition': !isDragging}">
    <ng-container *ngIf="hasFloor && 0 < floorImage?.url.length">
      <div class="texture" [ngClass]="{'blinking-animation': !isLocked}" [ngStyle]="{'transform': 'translateZ(' + height * gridSize +'px)'}"
        [style.background-image]="'url(' + floorImage.url + ')' | safe: 'style'"></div>
    </ng-container>
    <ng-container *ngIf="hasWall && 0 < wallImage?.url.length">
      <div [ngClass]="{'blinking-animation': !isLocked}" class="texture of-wall-top" [style.background-image]="'url(' + wallImage.url + ')' | safe: 'style'"
        [style.width.px]="width * gridSize" [style.height.px]="height * gridSize"></div>
      <div [ngClass]="{'blinking-animation': !isLocked}" class="texture of-wall-bottom" [style.background-image]="'url(' + wallImage.url + ')' | safe: 'style'"
        [style.width.px]="width * gridSize" [style.height.px]="height * gridSize"></div>
      <div [ngClass]="{'blinking-animation': !isLocked}" class="texture of-wall-left" [style.background-image]="'url(' + wallImage.url + ')' | safe: 'style'"
        [style.width.px]="depth * gridSize" [style.height.px]="height * gridSize"></div>
      <div [ngClass]="{'blinking-animation': !isLocked}" class="texture of-wall-right" [style.background-image]="'url(' + wallImage.url + ')' | safe: 'style'"
        [style.width.px]="depth * gridSize" [style.height.px]="height * gridSize"></div>
    </ng-container>
    <ng-container *ngIf="!isLocked">
      <div class="rotate-grab of-left-top" (mousedown)="onRotateMouseDown($event)">
        <i class="material-icons">autorenew</i>
      </div>
      <div class="rotate-grab of-left-bottom" (mousedown)="onRotateMouseDown($event)">
        <i class="material-icons">autorenew</i>
      </div>
      <div class="rotate-grab of-right-bottom" (mousedown)="onRotateMouseDown($event)">
        <i class="material-icons">autorenew</i>
      </div>
      <div class="rotate-grab of-right-top" (mousedown)="onRotateMouseDown($event)">
        <i class="material-icons">autorenew</i>
      </div>
    </ng-container>
  </div>
</div>