<div class="component is-fill is-perspective" [ngClass]="{'is-grabbing': isPointerDragging}" #root>
  <div class="component-content is-fill is-3d" #gameTable>
    <div id="app-game-table" class="game-table is-3d" [style.background-image]="'url(' + bgImage.url + ')' | safe: 'style'" #gameObjects>
      <canvas class="grid-canvas is-fill is-pointer-events-none" #gridCanvas></canvas>
      <terrain class="is-3d" *ngFor="let terrain of terrains" [terrain]="terrain"></terrain>
      <game-table-mask class="is-3d" *ngFor="let mask of gameTableMasks" [gameTableMask]="mask"></game-table-mask>
      <div class="is-3d">
        <card-stack class="is-3d" *ngFor="let cardStack of cardStacks" [cardStack]="cardStack" [ngStyle]="{'z-index' : cardStack.zindex}"></card-stack>
        <card class="is-3d" *ngFor="let card of cards" [card]="card" [ngStyle]="{'z-index' : card.zindex}"></card>
      </div>
      <game-character class="is-3d" *ngFor="let character of tabletopCharacters" [gameCharacter]="character"></game-character>
      <peer-cursor class="is-3d" *ngFor="let cursor of peerCursors" [cursor]="cursor"></peer-cursor>
    </div>
  </div>
</div>