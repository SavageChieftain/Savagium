<div class="game-room game-room_3d" [ngClass]="{'grabbing': isPointerDragging}" #gameTableBase>
  <div class="game-table game-table_3d game-3d" #gameTable>
    <div id="app-game-table" class="game-objects game-objects_3d game-3d" [style.background-image]="'url(' + bgImage.url + ')' | safe: 'style'" #gameObjects>
      <!--<img class="game-background-image game-table_3d game-3d"  [src]=" file.url | safe: 'resourceUrl'" #gameBackgroundImage>-->
      <!--<img class="game-background-image" *ngIf="0 < file.url.length" [src]="file.url | safe: 'resourceUrl'"
        #gameBackgroundImage>-->
      <canvas class="grid-canvas pointer-events-none" width="2000" height="2000" #gridCanvas></canvas>
      <terrain class="game-3d" *ngFor="let terrain of getTerrain()" [terrain]="terrain"></terrain>
      <game-table-mask class="game-3d" *ngFor="let gameTableMask of getGameTableMasks()" [gameTableMask]="gameTableMask"></game-table-mask>
      <div class="game-3d">
        <card-stack class="game-3d" *ngFor="let cardStack of getCardStacks()" [cardStack]="cardStack" [ngStyle]="{'z-index' : cardStack.zindex}"></card-stack>
        <card class="game-3d" *ngFor="let card of getCards()" [card]="card" [ngStyle]="{'z-index' : card.zindex}"></card>
      </div>
      <game-character class="game-3d" *ngFor="let gameCharacter of getTabletopCharacters()" [gameCharacter]="gameCharacter"></game-character>
      <peer-cursor class="game-3d" *ngFor="let cursor of getPeerCursor()" [cursor]="cursor"></peer-cursor>
    </div>
  </div>
</div>